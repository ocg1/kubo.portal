<ui:composition xmlns    = "http://www.w3.org/1999/xhtml"
				xmlns:h  = "http://java.sun.com/jsf/html"
				xmlns:ui = "http://java.sun.com/jsf/facelets"
				xmlns:f  = "http://java.sun.com/jsf/core"
				xmlns:p  = "http://primefaces.org/ui">
				
	<h:panelGroup id="lstPercBenefi" class="panel_confirmacion">
	<i class="fa fa-caret-down"></i>
	<script>

	distribuirBeneficiarios_reset();

	</script>
		<div  class="dvElement" style="width: 99%;">
			<fieldset>
				
					<!-- div class="title_percentaje">						
						<h:outputLabel styleClass="labelsStlTitle" style=" font-weight: bold !important;" value="#{msg.Percentage_text}" />						
					</div-->
					<h2>Porcentaje</h2>
					<div class=" distribuir_benef" onclick="distribuirBeneficiarios();"  >
						Distribuir a beneficiarios
					
					</div>
					<!-- input type="text" value="" id="total_suma"/ --> 
				
				<div class="containerTableBene">
					<div class="bloquea"></div>
				
				<h:dataTable var="benefic" value="#{ibeneficiaries.listBenefi_ciaries}" binding="#{table}" >
					<h:column>
						<div class="dvContent2">
							<div class="dvContent">
								<div class="dvLabel" >
									<h:outputLabel styleClass="labelsStl" value="#{benefic.first_name} #{benefic.middle_name} #{benefic.father_last_name} #{benefic.mother_last_name}" />
								</div>
							</div>
						</div>
					</h:column>	
							
					<h:column styleClass="year-beneficiaries" style="vertical-align: bottom !important;">
						<div class="dvContent">
							<!-- div class="styled-select-Day full-year">
								<h:selectOneMenu id="selPorc"   value="#{benefic.percentage}"  styleClass="elementStlSelDay validatorClass requiredVerify persentage">
									
									<f:selectItems  value="#{ibeneficiaries.listPercentage}"/>
									<p:ajax event="change" oncomplete="return Beneficiario.verificPersentage(#{table.rowIndex});" listener="#{ibeneficiaries.updateOrSaveBenefic(benefic)}"></p:ajax>
									<p:ajax event="blur" listener="#{ibeneficiaries.updateOrSaveBenefic(benefic)}"></p:ajax>
								</h:selectOneMenu>
							</div -->
							
							<div>
								<p:inputText id="selPorc"   value="#{benefic.percentage}" styleClass="elementStlSelDay validatorClass requiredVerify persentage clLabelTableVal">
									<f:convertNumber locale="es_MX"  pattern="#0.00" />
									<p:ajax event="change" oncomplete="return Beneficiario.verificPersentage(#{table.rowIndex});" listener="#{ibeneficiaries.beneficiario.persist(benefic)}"/>
									<p:ajax event="blur" listener="#{ibeneficiaries.beneficiario.persist(benefic)}"/>
								</p:inputText>
								
								
								%
								
							</div>
					
						</div>
					</h:column>
					
					<h:column>
					
					</h:column>		
					
					 <f:facet name="footer">
       						
      						<!-- <h:outputText value="Total: #{shoppingCartBean.total}" /> -->
   
						<div >
							<div id="totalPerc"   >
								0%
							</div>
						</div>
						
						
					
					</f:facet>
												
				</h:dataTable>
				</div>
					<div class="mensajeErroresPorcentaje">
								<span></span>
									<input style="height:1px !important; padding:0 !important; opacity:0;" type="text" id="pasoNolListo" class="validatorClass"  />
						</div>
				<h3>Al continuar aceptas la siguiente distribuci√≥n del porcentaje asignado.</h3>
			
				
			</fieldset>
		</div>				
	</h:panelGroup>
	<script>
	resetar_indices();
	</script>
</ui:composition>				