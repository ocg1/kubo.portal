<ui:composition xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:p="http://primefaces.org/ui">


<script>
	function checkPersonKubo(){
		
		return confirm("¿Está seguro de querer asignar estos permisos al Role?");
		
	}
</script>

<style>
	.ui-chkbox{
		display: inline-block;
	}
</style>

<div  style="width: 100%; background-color: #FFFFFF; padding-top: 0px !important; margin-top: 0px !important;" >	
		
	<div id="general"  style="padding-top: 0px !important; margin-top: 0px !important;">

			<div style="border: solid 0px #E3E3E3; margin-left: auto; margin-right: auto; margin-top: 15px; width: 350px; height: auto; overflow: auto; padding: 10px;" >
				<div style="width: 99%; text-align: center; margin-left: auto; margin-right: auto; margin-bottom: 15px;">
				<span style="color: #439539;font-size: 1.3em; font-weight: bold;" >
					Asignación de Permisos por Rol
				</span>
				</div>
				<div style="width: auto; margin-bottom: 15px;" >
					<div class="styled-select-Address">
						<h:selectOneMenu id="myselect" value="#{permissionRole.thisRole}"   styleClass="elementStlSelAddress"  >
							<f:selectItem itemLabel="" itemValue="" />
							<f:selectItems value="#{permissionRole.lstRole}" var="role" itemLabel="#{role.name}" itemValue="#{role.rolepk.role_id}" ></f:selectItems>
							<p:ajax event="change"  listener="#{permissionRole.selectRole}" update="pnlCheckFunction"  ></p:ajax>
						</h:selectOneMenu>
					</div>
				</div>
				
				<h:panelGroup id="pnlCheckFunction" >
					<div class="dvContent">
						<div  class="dvElement" >
							<p:selectManyCheckbox id="chkFunct"  styleClass="checkStl elementStlLbl" layout="pageDirection" value="#{permissionRole.thisfunction}"   >
								<f:selectItems value="#{permissionRole.lstfunction}" var="function" itemValue="#{function.pk.function_id}" itemLabel="#{function.name}"  ></f:selectItems>
								<p:ajax event="change"  ></p:ajax>
							</p:selectManyCheckbox>
						</div>
					</div>
				</h:panelGroup>
				
				<div style="width: 104px; margin-top: 15px; margin-left: auto; margin-right: auto;" >
					<p:commandLink actionListener="#{permissionRole.saveFunctionRole}" onstart="return checkPersonKubo();" immediate="true" ajax="true" >
						<div class="buttonPR" style="margin:5px 0;width: 100px;">	
							Asignar					
						</div>
					</p:commandLink>
				</div>
				
			</div>
	
	</div>
</div>
	
</ui:composition>