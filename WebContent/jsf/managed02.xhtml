<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns    = "http://www.w3.org/1999/xhtml"
	  xmlns:ui = "http://java.sun.com/jsf/facelets"
	  xmlns:h  = "http://java.sun.com/jsf/html"
	  xmlns:f  = "http://java.sun.com/jsf/core"
	  xmlns:p  = "http://primefaces.org/ui">
	 
	<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Insert title here</title>

<script>

	function callbackFunction(xhr, status, args){
		
		alert( args.mensaje );
		
	}
	
	function antesdeiniciar(){
		
		return confirm("Estas seguro que deseas continuar?");
		
	}
	
</script>

</h:head>
<h:body>

<h:form>
pagina 2
<br />
<p:inputText value="#{managedTest2.mail}" >
	<p:ajax event="blur" />
</p:inputText>
<br />
<p:inputText value="#{managedTest2.pwd}" >
	<p:ajax event="blur"  />
</p:inputText>
<br />
<br />
<p:commandLink value="procesa Datos" onstart="return antesdeiniciar();" actionListener="#{managedTest2.recuperaDatos}" oncomplete="callbackFunction(xhr, status, args)" >
</p:commandLink>
</h:form>
</h:body>
</html>