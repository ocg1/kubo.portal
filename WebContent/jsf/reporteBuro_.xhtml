<ui:composition
	 	xmlns="http://www.w3.org/1999/xhtml"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:p="http://primefaces.org/ui">
		
		<!-- tableFix -->
		
		 
		<!-- <link rel="stylesheet" type="text/css" href="../resources/js/tableFix/jquery-ui/css/redmond/jquery-ui-1.8.4.custom.css"/>
		<link rel="stylesheet" type="text/css" href="../resources/js/tableFix/jquery-ui/css/ui-lightness/jquery-ui-1.8.4.custom.css"/>
		<link rel="stylesheet" type="text/css" href="../resources/js/tableFix/jquery-ui/css/smoothness/jquery-ui-1.8.4.custom.css"/>
		<link rel="stylesheet" type="text/css" href="../resources/js/tableFix/jquery-ui/css/flick/jquery-ui-1.8.4.custom.css" id="link"/>
		<link rel="stylesheet" type="text/css" href="../resources/js/tableFix/css/base.css" /> -->
		
		
		<script type="text/javascript" src="../resources/js/reporteBuro.js"></script>
		<!-- <script type="text/javascript" src="../resources/js/tableFix/highlighter/codehighlighter.js"></script>
		<script type="text/javascript" src="../resources/js/tableFix/highlighter/javascript.js"></script>   -->
		<link href="../resources/js/tableFix2/960.css" rel="stylesheet" media="screen" />
        <link href="../resources/js/tableFix2/defaultTheme.css" rel="stylesheet" media="screen" />
        <link href="../resources/js/tableFix2/myTheme.css" rel="stylesheet" media="screen" />
        <script type="text/javascript" src="../resources/js/tableFix2/jquery.mousewheel.js"></script>
       <!--  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script> -->

		<script type="text/javascript" src="../resources/js/tableFix2/jquery.fixedheadertable.js"></script>
		
		<style>
			
		.contValues{
			float: left;
			width: 160px;
			height: auto;
			margin-top: 12px;
			margin-right: 4px;
		}
		
		.contValues:hover{
			background-color: #E0EC97;
		} 
		
		.descBurAttr{
			width: 158px;
			text-align: center;
			padding: 3px 0px 3px 0px;
		}
		
		.valBurAttr{
			width: 158px;
			text-align: center;
			padding: 3px 0px 3px 0px;
			font-weight: bold;
		}
		
		.buroAttr{
				width: 100%;
				height: auto;
				overflow: auto;
				font-size: 1.25em;
				padding: 7px;
			}
		
		.fixme{
			text-align: center !important;
		}
		
		.clCenter{
			text-align: center;
		}
		
		 .moneyClass{
		 	text-align: right !important;
		 	padding-right: 10px !important;
		 }
		 
		 #dvContTScore :HOVER{
		 	text-decoration: underline;
		 }
		 
		 .clRowChng:HOVER{
		 	background-color: #C1D82F !important;
		 }
		 
		 #dvContDetTScore{
		 	position: absolute;
		 	border: 1px solid #E6E6E6;
		    bottom: 1px;
		    left: 502px;
		    padding: 7px;
		    z-index: 100;
		    
		    background-color: #FFFFFF !important;
		    
		    -webkit-box-shadow: 1px 1px 10px -3px #c2c2c2 !important;
		  	-moz-box-shadow: 	1px 1px 10px -3px #c2c2c2 !important;
		  	box-shadow: 		1px 1px 10px -3px #c2c2c2 !important;
		    
		 }
		 
		 #btnRecommen{
		 	margin-top: 20px !important;
		 	margin-bottom: 20px !important;
		 }
		 
		 #dvContRecommendationNote{
		 	display: none;
		 }
			
		.dvContTableNotes{
			clear: both !important;
			float: none !important;
			margin-top: 20px !important;
		}
		
		.dvContTableNotes table{
		
			width: 95%;
		
		}
		
		#dvFrmChange{
			
			font-size: 1.2em !important;
			border: solid 8px #c1d82f;
			padding: 10px;
		}
		
		#acSimple_panel{
			z-index: 3002 !important;
		}
		
		
		</style>
		
		
		
		
	<script>
	/* inicia Charts */
	
	function initLog(){
		
		$("#inpLog").val( $("#confpass").val() );
		
		$("#inpLogUsr").val( $("#usr").val() );
		
		$("#inpLogUsr").blur();
		$("#inpLog").blur();
		
		return true;
		
	}
	
	function returnInit(xhr, status, args){
		
		var isLogged = args.isLogged;	
		
		if(isLogged){
			$('#strMsg').empty();
			$.fancybox.close();
			//$("#initAction").click();
			//$('#valGraphic').val($('#burSolNum').val());
			$('#valGraphic').blur();
			flagGraph=false;
			
		}else{
			var str = args.msg;
			$('#strMsg').empty();
			$('#strMsg').html(str);
		}
		
	}
	
	function keyEventIntro(e,component){
				var key = e.keyCode || e.which; 
				if (key === 13) {
					$(component).blur(); 
					$("#btnLoggin").click(); 
					
				};
			}
	
	function hideTableNote(){
		
		$("#dvContRecommendationNote").fadeOut({
			duration:  1000,
			easing:		'easeOutBack',
			complete: function(){
			
							$("#btnRecommen").fadeIn({
																	duration:  1000,
												    				easing:		'easeOutBack'
																});
	
							} 
			});
		
	}
	
	function onClckJsonAct(){
		$("#cmdJsonAction").blur();
	}
	
	function completeJson(){
		closeMessageProcessing();
		flagF = true;
		drawChartBuro();
		
	}
	
	function startJson(){
		
		
		
		var jSonStr = "{'newCompany':'"+ $("#acSimple_input").val()+"','Prev_Entity':'"+ $("#prevName").val() +"'}";
		
		$("#jsonVal").val(jSonStr);
		$("#jsonVal").blur();
		
		$.fancybox.close();
		 $("#acSimple_input").val("");
		displayMessageProcessing('msgprocessing', false);
		
		
		return true;
		
	}
	
	
    	var flagF = true;
    	function inicializaTable(){
    		 
    		$("#btnRecommen").click(function(e){
    			
    			e.preventDefault();
    			
    			$("#btnRecommen").fadeOut({
					    				duration:  1000,
					    				easing:		'easeOutBack',
					    				complete: function(){
					    				
														$("#dvContRecommendationNote").fadeIn({
																								duration:  1000,
																			    				easing:		'easeOutBack'
																							});
								
														} 
					    				});
    		});
    		
    		 maxWidthTableVig = $("#maxWidthTableVig").val();
    		 
    	if(flagF){
    		
		    		flagF = false;
		    		
		    		
		    		
		    		$('.fixme').fixedHeaderTable({
		               
		                height  : 200,
		                width	: maxWidthTableVig ,
		           
		                fixedColumns: 1
		           });
		    		
		    		$('.fixmeCom').fixedHeaderTable({
		                caption : 'Créditos Vigentes Comunicaciones',
		                height  : 200,
		                width	: maxWidthTableVig ,
		                zebra   : false,
		                resizeCol      : true,
		                colratio	: [85,85,150,200,350,80,200,140,140,120,170,140,140,145,145,135,155,135,180,120,180,200,200,200,200,200,190,320,320,200],
		                fixedColumn: 0 
		           });
		    		
		    		$('.fixmeConsultUlt').fixedHeaderTable({
		                caption : 'Consultas en los Últimos 6 meses',
		                height  : 200,
		                width	: maxWidthTableVig ,
		                zebra   : false,
		                resizeCol      : true,
		                colratio	: [85,200,200,200,200,200,180,140]
		           });
		    		
		    	 $('.fixmeConsultMS').fixedHeaderTable({
		                caption : 'Consultas hace más de 6 meses',
		                height  : 200,
		                width	: maxWidthTableVig ,
		                zebra   : false,
		                resizeCol      : true,
		                colratio	: [85,200,200,200,200,200,180,140]
		           });
		    		
		    		$('.tableDomicilios').fixedHeaderTable({
		                caption : 'Domicilios',
		                height  : 200,
		                width	: maxWidthTableVig ,
		                zebra   : false,
		                resizeCol      : true,
		                colratio	: [85,200,200,200,200,200,200,200,200,180,140]
		           });
		    		
		    		$('.tableCredClose').fixedHeaderTable({
		                caption : 'Créditos Cerrados',
		                height  : 200,
		                width	: maxWidthTableVig ,
		                zebra   : false,
		                resizeCol      : true,
		                colratio	: [85,85,200,200,200,200,200,200,350,200,200,200,200,200,200,200,200,200,200,200,200,180,140],
		                fixedColumn: 0 
		           });
		    		
		    		$('.tableCredCloseM6').fixedHeaderTable({
		                caption : 'Créditos Cerrados hace más de 6 meses',
		                height  : 200,
		                width	: maxWidthTableVig ,
		                zebra   : false,
		                resizeCol      : true,
		                colratio	: [85,85,200,200,200,200,200,200,350,200,200,200,200,200,200,200,200,200,200,200,200,180,140],
		                fixedColumn: 0 
		           });
		    		
		    		$('.tableAlerts01').fixedHeaderTable({
		                caption : 'Datos Alertas Consultas',
		                height  : 200,
		                width	: maxWidthTableVig ,
		                zebra   : false,
		                resizeCol      : true,
		                colratio	: [200,200,200,200,200,200]
		           });
		    		
		    		$('.tableAlerts02').fixedHeaderTable({
		                caption : 'Datos Alertas Reporte',
		                height  : 200,
		                width	: maxWidthTableVig ,
		                zebra   : false,
		                resizeCol      : true,
		                colratio	: [200,200,200,200,200,200]
		           });
		    		
    		}
    	}
	
	function returnNoteFunction(){
		closeMessageProcessing();
		$('#person_kubo_select').val('');
		$('#recommentaion_kubo_select').val('');
		$('#txt-capture-recommendation').val('');
		hideTableNote();
	}
    	
	function initGraph(){
		 // alert("initGraph .. solnum: "+$('#valGraphic').val());
		 $('#valGraphic').blur();
		
	}
	
	var rowData;
	var myColors;   		
	var rowData = new google.visualization.DataTable();
	var chart;
	var gridV;
	var maxWidthTableVig;
	
	function drawChartBuro() { 
		if(google.setOnLoadCallback(chartDrawBuro)){
			
		}else{
			chartDrawBuro();
		}
		
	}
	
	function hideDetTScore(){
		$("#dvContDetTScore").hide();
	}
	
	function chartDrawBuro() { 
	
		if( rowData ){
			if(rowData != "SIN_RESPUESTA"){
				
  					$("#loaderGraph").hide();
  					$("#chart_warning").hide();
  					$("#chart_divCont").show();
		    	  	//var data = google.visualization.arrayToDataTable(rowData);
		    	  	//title: 'Gráfica MOP histórico'// #{chartBackBean.nombreCompleto}',
			        var options = {
				          title: 'Gráfica MOP histórico',
				          hAxis: {title: 'Meses',  titleTextStyle: {color: '#000'}},
				          vAxis: {title: 'MOP',    titleTextStyle: {color: '#000'}, gridlines: {color: '#d9d9d9',  count: gridV},textPosition:'bottom', textStyle: { fontSize: 13},minValue: 0 },
				          chartArea:{left:50,top:50,width:"70%",height:"70%"},
				          hAxis:	{slantedText: true, slantedTextAngle: 90, textStyle: { fontSize: 13}},
				          width: 845,
				          height: 500,
				          legend: {position: 'right ',alignment: 'end', textStyle: { fontSize: 13}},
				          colors: myColors,
				          pointSize: 1,
				          interpolateNulls: true,
				          tooltip: {isHtml: true}
				        };
			        
			        chart = new google.visualization.LineChart(document.getElementById('chart_div'));
			        
			        setTimeout(function(){callGraph(options)},500);
			        
			        inicializaTable();
		        	
  				}else{
  					$("#loaderGraph").hide();
  					$("#chart_divCont").hide();
  					$("#chart_warning").show();
  					$("#chart_divCont").show();
  				}
		}else{
			$("#loaderGraph").hide();
			$("#chart_divCont").hide();
			$("#chart_warning").show();
			$("#chart_divCont").hide();
		}
		
     }
	
	function callGraph(options){
		chart.draw(rowData, options);
		
	/* 	$("#loaderGraph").hide();
			$("#chart_divCont").show(); */
		
	}
	
	
	
	
	function validaSolNum(){
		
		// alert($('#valGraphic').val() + ' --  bursol: ' + $('#burSolNum').val());
		if( $('#valGraphic').val() == null ){
			
			$('#valGraphic').val($('#burSolNum').val())
			
		}
		
		return true;
		
	}
	
	
	
	
	
/*fin de charts*/	
	</script>
	
	
	<h:panelGroup id="pnlContPersonalData" >
	
	<h:outputText escape="false"   value="#{chartBackBean.scriptJSon}" ></h:outputText>
	
				<div id="dvContPersonalData" class="detailsControlTable clssControlBuro" style="display: block; min-height: auto !important; margin-bottom: 20px !important;">
					<div class="centerPosition">
						<h:panelGroup id="sectionPersonalData">
							<p style="width: 200px; float: left;"><strong class="orange">Datos personales</strong></p>	
							<br style="clear:both;" />
							
							<div class="tabS" style="font-size: 1.0em; margin-top: 20px;" >
								<table>
								
									<tr>
										<td colspan="4" style="text-align: left; padding-top: 15px; padding-bottom: 15px;" ><b>Han transcurrido <b>#{chartBackBean.diasTrans}</b> días desde la fecha de consulta</b></td>
									</tr>
								
									<tr>
										<td width="100px" >Prospecto:</td>
										<td><b>#{chartBackBean.infocte.idprospecto}</b></td>
										
										<td width="100px" ></td>
										<td></td>
									</tr>
									<tr>
										<td>Cliente:</td>
										<td colspan="3"><b>#{chartBackBean.infocte.nombre1} #{chartBackBean.infocte.nombre2} #{chartBackBean.infocte.apellido1} #{chartBackBean.infocte.apellido2} </b></td>
										
									</tr>
									<tr>
										<td>RFC:</td>
										<td colspan="3"><b> #{chartBackBean.infocte.rfc} </b></td>
										
									</tr>
									<!-- <tr>
										<td>CURP</td>
										<td><b>#{chartBackBean.infocte.curp}</b></td>
										
										<td style="padding-left: 25px;">RFC:</td>
										<td><b>#{chartBackBean.infocte.rfc}</b></td>
									</tr> -->
									<tr>
										<td style="width: 145px;" >Fecha de consulta:</td>
										<td><b>#{chartBackBean.fecConsult}</b></td>
									
										<td style="padding-left: 25px;">BurSolNum:</td>
										<td><b>#{chartBackBean.infocte.bur_solnum}</b></td>
									</tr>
									<tr>
										<td style="width: 145px;" >Folio:</td>
										<td><b>#{chartBackBean.folioNum}</b></td>
									
										<td style="padding-left: 25px;">Bc Score:</td>
										<td><b>#{chartBackBean.bur.score_buro}</b></td>
									</tr>
									
									<tr>
										<td colspan="2">Total Consultas a Buró de Crédito:
										<b>#{chartBackBean.totalConsult} </b></td>
										
										<td style="padding-left: 25px;">T Score:</td>
										<td>
										<div>
											
											<h:panelGroup rendered="#{chartBackBean.tScore != 'No Asignado'}" >
						      					<div id="dvContTScore" style="cursor: pointer;" >
						      						<b><h:outputText value="#{chartBackBean.tScore}"></h:outputText></b>
						      					</div>
					      					</h:panelGroup>
					      					
					      					<h:panelGroup rendered="#{chartBackBean.tScore == 'No Asignado'}" >
						      					<div id="dvContTScoreTmp">
						      						<b><h:outputText value="#{chartBackBean.tScore}"></h:outputText></b>
						      					</div>
					      					</h:panelGroup>
					      					
					      				</div>
					      				
					      				<div id="dvContDetTScore" style="display: none;" >
					      					
					      					<div style="position: absolute;top: -14px;right: -18px; width: 30px; height: 30px; z-index: 180;" >
							          			<p:graphicImage url="../resources/img/close.png"  style="cursor: pointer;" onclick="hideDetTScore();" ></p:graphicImage>
							          		</div>
					      				
				      						<div>Incremento1: <b><h:outputText value="#{chartBackBean.incremento1}"></h:outputText></b></div> 
				      						<div>Incremento2: <b><h:outputText value="#{chartBackBean.incremento2}"></h:outputText></b></div>
					      				</div>
					      				
					      					<h:panelGroup rendered="#{chartBackBean.tScore != 'No Asignado'}" >
												<script>
												$("#dvContTScore").click(function(){
													$("#dvContDetTScore").show();
												});
												</script>
											</h:panelGroup>
					      				
										</td>
									</tr>
									
								</table>
								
							</div>	
							
							
										
							<div>
								<div id="btnRecommen" class="buttonPR" style="width: 250px; font-size: 1.0em; float: left; margin: 0 5px 0 0;">
									Agregar Evaluación 
								</div>		
							</div>
							<p />
							<div id="dvContRecommendationNote" >
								<table>
									<h:panelGroup rendered="#{chartBackBean.promotorIDOfMail == null or chartBackBean.promotorIDOfMail == ''}">
										<h:panelGroup rendered="#{sessionBean.prospectus_id == null or sessionBean.prospectus_id == 0}">
										<tr>
											<td>Persona: </td>
											<td colspan="3">
												<div class="dvElement" style="width: 350px !important;" >
													<div class="styled-select" style="padding-top: 0px !important; background-color: #FFFFFF !important;">
														<h:selectOneMenu id="person_kubo_select" value="#{chartBackBean.memberSelect}" style="width: 285px !important; background: none repeat scroll 0 0 rgba(0, 0, 0, 0) !important"  styleClass="elementStlSel validatorClass"  >
															<f:selectItem itemValue=""  itemLabel=""/>
															<f:selectItems  value="#{chartBackBean.lstMember}" var="member" itemLabel="#{member.person.NombreCompletoNPM()}" itemValue="#{member.membershipPK.prospectus_id}::#{member.membershipPK.company_id}"/>
															<p:ajax event="change" />
														</h:selectOneMenu>
													</div>
												</div>
											</td>
										</tr>
										</h:panelGroup>
									</h:panelGroup>
									
									<h:panelGroup rendered="#{chartBackBean.promotorIDOfMail != null and chartBackBean.promotorIDOfMail != ''}">
										<tr>
											<td>Asesor: </td>
											<td colspan="3">
												<div style="font-size: 1.2em;" >
													<div class="dvElement" style="width: 350px !important;" >
															<p><b>#{chartBackBean.naturalPersonOfMail.NombreCompletoNPM()}</b></p>
													</div>
												</div>
											</td>
										</tr>
									</h:panelGroup>
									
									<tr>
										<td>Evaluación: </td>
										<td colspan="3">
											<div class="dvElement" style="width: 350px !important;" >
												<div class="styled-select" style="padding-top: 0px !important; background-color: #FFFFFF !important;">
													<h:selectOneMenu id="recommentaion_kubo_select" style="width: 285px !important;background: none repeat scroll 0 0 rgba(0, 0, 0, 0) !important" value="#{chartBackBean.recommendation_id}"  styleClass="elementStlSel validatorClass"  >
														<f:selectItem itemValue=""  itemLabel=""/>
														<f:selectItems  value="#{chartBackBean.lstRecommendationType}" var="recommendation" itemLabel="#{recommendation.name}" itemValue="#{recommendation.pk.recommendation_type_id}"/>
														<p:ajax event="change" />
													</h:selectOneMenu>
												</div>
											</div>
										</td>
									</tr>
									
									<tr>
										<td>Observaciones: </td>
										<td colspan="3">
											
											<div class="dvElementAddres1" style="padding:0;width: 550px; margin-left: 10px;">	
												<h:inputTextarea id="txt-capture-recommendation" value="#{chartBackBean.recomendation_txt}" styleClass="elementTextArea" style="margin:5px 0;width:500px !important;height:150px !important;font-size: 1em !important;" cols="25" rows="3" >
													<p:ajax event="blur"></p:ajax>
												</h:inputTextarea>
												<p:watermark for="txt-capture-recommendation" value="Escribe la nota" />
												<p:commandLink onstart="return validateNewRecommendation('person_kubo_select','recommentaion_kubo_select','');" oncomplete="returnNoteFunction();"  immediate="true" style="text-decoration: none;" update="pnlTableNetes" actionListener="#{chartBackBean.addNewNote}" >
													<div class="buttonPR" style="width: 71px; font-size: 0.9em; float: left; margin: 0 5px 0 0;">
														Guardar
													</div>		
												</p:commandLink>											 	
												<div class="buttonPR"  onclick="hideTableNote();" style="margin: 0; width: 71px;font-size:0.9em;float: left;">
														Cancelar
												</div>										
											</div>
											
										</td>
									</tr>		
								</table>
								
								</div>
								<p />
								<div class="dvContTableNotes" >
									<h:panelGroup id="pnlTableNetes">
									
									<h:panelGroup rendered="#{(chartBackBean.lstNotes == null or chartBackBean.lstNotes.size()==0) and chartBackBean.flgNtSz }">
										<table style="border:solid 1px #E6E6Ef; border-collapse: collapse;" >
											<tr style="background:none repeat scroll 0 0 #F2F5F9 !important" >
												<td style="width: 400px;"> Ya existen evaluaciones, seran visibles en cuanto des la tuya.</td>
											</tr>
										</table>
									</h:panelGroup>
									
									<h:panelGroup rendered="#{(chartBackBean.lstNotes == null or chartBackBean.lstNotes.size()==0) and !chartBackBean.flgNtSz }">
										<table style="border:solid 1px #E6E6Ef; border-collapse: collapse;" >
											<tr style="background:none repeat scroll 0 0 #F2F5F9 !important" >
												<td style="width: 400px;"> Aún no existen evaluaciones para éste caso, sé el primero en comentar.</td>
											</tr>
										</table>
									</h:panelGroup>
									
									<h:panelGroup rendered="#{chartBackBean.lstNotes != null and chartBackBean.lstNotes.size()>0 }">
										<table style="border:solid 1px #E6E6Ef; border-collapse: collapse;">
											
											<THEAD>
											 	<tr style="border:solid 1px #E6E6Ef">
								 					<th style="border:solid 1px #E6E6Ef">Fecha</th>
								 					<th style="border:solid 1px #E6E6Ef">Usuario</th>
								 					<th style="border:solid 1px #E6E6Ef">Evaluación</th>
								 				</tr>
											</THEAD>
											
											<TBODY>
												<ui:repeat var="note" value="#{chartBackBean.lstNotes}" varStatus="status">
													
													<tr style="border:solid 1px #E6E6Ef;border-collapse:collapse;#{status.index%2!=0?'background:none repeat scroll 0 0 #F2F5F9 !important':' '};">
													
														<td style="width: 100px;border:solid 1px #E6E6Ef;">
															<h:outputText value="#{note.change_date}">
														        <f:convertDateTime pattern="dd'/'MM'/'yyyy" timeZone="America/Mexico_City" locale="es_MX" type="date" />
														    </h:outputText>
														</td>
														<td style="width: 200px;border:solid 1px #E6E6Ef;"> #{note.person.NombreCompletoNPM()}</td>
														<td style="border:solid 1px #E6E6Ef"><h:outputText escape="false" value="#{note.note}" /></td>
														
													</tr>
													
												</ui:repeat>
											</TBODY>
											
										</table>
									</h:panelGroup>
									</h:panelGroup>
								</div>
											
							
							
						</h:panelGroup>
					</div>
				</div>
			</h:panelGroup>
	
	<div class="detailsControlTable clssControlBuro"  >
		<div id ="loaderGraph" style="width: 34px; height: 34px; margin-left: auto; margin-right: auto; " >
			<h:graphicImage style="float: left; width: 30px; margin: 35px 0px 0px; height: 30px;"  
					url="../resources/img/ajax-loader.gif" >
			</h:graphicImage>
		</div>
		<div style="display: none;">
			<p:inputText id="valGraphic"  value="#{chartBackBean.burSolNum}" >
				<p:ajax event="blur" onstart="return validaSolNum();"   listener="#{chartBackBean.loadChart}" oncomplete="drawChartBuro();" update="pnlGraphic titleGraphic pnlBurResumeData pnlContCredVig pnlContPersonalData pnlContAddressBuro pnlContConsulBuroUlt6M pnlContConsulBuroMas6M pnlContCredVigCom pnlContCredCerrUlt6M pnlContCredCerrMas6M pnlContAlertas01 pnlContAlertas02 pnlBuroConsultationBur pnlTableNetes" ></p:ajax>
			</p:inputText>
			
			<p:inputText id="maxWidthTableVig" value="#{chartBackBean.maxWidthTableVig}" ></p:inputText>
			
		</div>
		
		<div id="chart_data"></div>
		<h:panelGroup id="titleGraphic">
			<div  id="chart_divCont" style="display: none;" >
				<!-- <div class="clGraphicTitle">
					<div>Fecha de Consulta: <b>#{chartBackBean.fecConsult}</b></div>
					<div>Han transcurrido <b>#{chartBackBean.diasTrans}</b> días desde la fecha de consulta</div>
					<div>Número de folio consulta: <b>#{chartBackBean.folioNum}</b></div>
					<div></div>
				</div> -->
				<div style="height:500px; width:700px; margin-top: 20px;" id="chart_div"/>
				
				<div>
				
					<!-- <h:panelGroup rendered="#{summaryRequest.displayReport}"> -->
					<h:panelGroup rendered="false">
						<div class="buttonPR" style="font-size: 0.85em; width: 290px;" >
							<!-- <a href="../resources/#{summaryRequest.report}" target="_blank"> -->
								Ver reporte detallado de Buró
							<!-- </a> -->
						</div>
					</h:panelGroup>
				 
				</div>
				
			</div>
		</h:panelGroup>
		<h:panelGroup id="pnlGraphic" >
			
			<div id="hVal" style="display: none;" >
				<h:outputText escape="false"   value="#{chartBackBean.chartModel}" ></h:outputText>
				<input type="text" value="#{chartBackBean.maxGrid}" id ="maxGrid" />
			</div>
			
		 	<div style=" display: none; " id="chart_warning">
		 		Usuario sin datos de Buró de Crédito
		 	</div>
		 	
 		</h:panelGroup>
		</div>
		<p></p>
		
		<!-- otras consultas -->
		
		<div class="detailsControlTable clssControlBuro clssTablesBuro" id="dvlstPyCont" style="margin-top: 15px;" >
							
			<div class="centerPosition">
				<h:panelGroup id="pnlCnsListBur">
					<p><strong class="orange">Consultas anteriores realizadas por Kubo</strong></p>
				</h:panelGroup>
				<h:panelGroup id="pnlBuroConsultationBur">
					<div id="dvcsltPy">
						
						<h:panelGroup rendered="#{ chartBackBean.lstConsultas == null or chartBackBean.lstConsultas.size()==0}" >
						
							<table style="border:solid 1px #E6E6Ef; border-collapse: collapse;" >
								<tr style="background:none repeat scroll 0 0 #F2F5F9 !important" >
									<td style="width: 400px;text-align: center;"> No existen consultas anteriores realizadas por Kubo para este cliente.</td>
								</tr>
							</table>
						
						</h:panelGroup>
						
						<h:panelGroup rendered="#{chartBackBean.lstConsultas.size()>0}" >
					
						<div style="margin-left: auto; margin-right: auto; margin-top: 40px; margin-bottom: 40px; width: 100%;" >
							
							<table  style="width: 100%;" >
								<tr>
									<td>
										<table style="border-collapse: collapse; width: 100%;" >
											
											<tr>
												<th style="text-align: center;" >
													Folio de Buró de Crédito
												</th>
												<th width="152px;" style="text-align: left;">
													Fecha de Consulta
												</th>
												<th style="text-align: left; padding-right: 5px;">
													BCScore
												</th>
												<th style="text-align: left;">
													Tipo
												</th>
												<th width="142px" style="text-align: left;">
													Crédito
												</th>
												<th  style="text-align: left;">
													Status
												</th>
											</tr>
												
									<ui:repeat var="cnslt" value="#{chartBackBean.lstConsultas}" varStatus="pos" >
									
											<tr class="#{!pos.odd?'lendingAnswer':''}" >
												<td style="text-align: left; width: 113px !important; padding-top: 8px; padding-bottom: 8px;" >
													<div class="consult#{pos.index}" >#{cnslt.bursolnum}</div>
												</td>
												<td width="152px;" style="text-align: left; width: 150px !important; padding-top: 8px; padding-bottom: 8px;">
													<div class="consult#{pos.index}" >#{cnslt.fecConsult}</div>
												</td>
												<td style="text-align: left; width: 45px !important; padding-top: 8px; padding-bottom: 8px; ">
													<div class="consult#{pos.index}" >#{cnslt.bcScore}</div>
												</td>
												<td style="text-align: left; width: 156px !important; padding-top: 8px; padding-bottom: 8px; ">
													<div class="consult#{pos.index}" >#{cnslt.tipoConsulta}</div>
												</td>
												<td width="142px" style="text-align: left;  width: 141px !important; padding-top: 8px; padding-bottom: 8px; ">
													<div class="consult#{pos.index}" > #{(cnslt.proyect_loan_id==summaryRequest.actualProyect.proyectloanPk.proyect_loan_id)?'ACTUAL':(cnslt.credito)}</div>
												</td>
												<td  style="text-align: left; width: 122px !important; padding-top: 8px; padding-bottom: 8px; ">
													<div class="consult#{pos.index}" >
														<p:graphicImage url="../resources#{cnslt.status}" style="margin-left: auto; margin-right: auto;" rendered="#{cnslt.status != 'Sin proyecto'}" width="25" height="25" />
														<h:outputLabel rendered="#{cnslt.status == 'Sin proyecto'}" value="#{cnslt.status}" ></h:outputLabel>
													</div>
												</td>
											</tr>
										
									<style>
										.consult#{pos.index}{
											text-decoration: none;
										}
									
										.consult#{pos.index}:HOVER{
											cursor: pointer;
											text-decoration: underline;
										}
										
									</style>
									
									<script>
									
									$(".consult#{pos.index}").fancybox({
										'transitionIn'	:	'elastic',
										'transitionOut'	:	'elastic',
										'speedIn'		:	600, 
										'speedOut'		:	200, 
										'overlayShow'	:	true,
										'width'			:	'100%',
										'height'		: 	'100%',
										'href'			:	'reporteBuroSolNum.jsf?solNum=#{cnslt.bursolnum}',
										'type'			:	'iframe'
									});
									
									</script>
										
								</ui:repeat>
								
										</table>
									</td>
								</tr>
							</table>
							
						</div>
						
						</h:panelGroup>
						
						
					</div>
				</h:panelGroup>
			</div>
		
		</div>
		
		<!-- /otras consultas -->
		<p></p>
		<h:panelGroup id="pnlBurResumeData">
		<div id="buroResp" class="detailsControlTable clssControlBuro" style="margin-top: 15px;" >
					<p:outputPanel rendered="#{not empty chartBackBean.bur}">
					<div class="centerPosition">
						<p><strong class="orange">Perfil de riesgo</strong></p>       
						
						  
	      
					      <div class="profileSubtitle"><b>Score de buró de crédito</b></div>
					      	<div style="margin-bottom: 15px; margin-top: 15px;">BCSCORE: <b><h:outputText value="#{chartBackBean.bur.score_buro}"></h:outputText></b></div>
					      	
					      	<div>Número de folio consulta: <b><h:outputText value="#{chartBackBean.bur.burFol}"></h:outputText></b></div>
					      	<div>Fecha de la consulta: <b><h:outputText value="#{chartBackBean.fecConsult}"></h:outputText></b></div>
					      	<div>Forma de la consulta: <b><h:outputText value="#{chartBackBean.bur.tipoConsulta}"></h:outputText></b></div>
					      
					      <p:outputPanel rendered="#{chartBackBean.bur.scoreIcc!=null}">
	   				      <div class="profileSubtitle"><b>Índice de Capacidad Crediticia (ICC)</b></div>
					      <div style="margin-bottom: 15px; margin-top: 15px;"><b><h:outputText value="#{chartBackBean.bur.scoreIcc}"></h:outputText></b></div> 
					      </p:outputPanel>
				     
				      <div class="profileSubtitle"><b>Detalle de créditos</b></div>
				      
				    
				      
				       <table class="#{sessionBean.area=='M'?'detailsTableRiskControl':'detailsTableRisk'}" style="border-collapse: collapse;">
				        <tbody>
				         <tr >
				          <td></td>
				          <td><strong>Cantidad</strong></td>
				          <td><strong>Pago periódico</strong></td>
				          <td><strong>Pago mensual</strong></td>
				          <td><strong>Saldo</strong></td>
				          <td><strong>Saldo vencido</strong></td>
				          <td><strong>Crédito máximo</strong></td>
				          <td><strong>Límite de crédito</strong></td>
				         </tr>
				         
				         
				         <tr style="background-color: #f2f5f9;" >
				          <td>Créditos al corriente</td>
				          <td><h:outputText value="#{chartBackBean.numCorriente}"/> </td>
				          <td><h:outputText value="#{chartBackBean.pagoPeriodicoCorrienteStr}" /></td>
				          <td><h:outputText value="#{chartBackBean.montoAPagarCorrienteStr}"></h:outputText></td>
				          <td><h:outputText value="#{chartBackBean.saldoCorrienteStr}"></h:outputText></td>
				          <td><h:outputText value="#{chartBackBean.saldoVencidoCorrienteStr}"></h:outputText></td>
				          <td><h:outputText value="#{chartBackBean.maxCredCorrienteStr}"></h:outputText></td>
				          <td><h:outputText value="#{chartBackBean.limiteMaxCorrienteStr}"></h:outputText></td>
				         </tr>
				         <tr >
				          <td>Créditos con retraso</td>
				          <td><h:outputText value="#{chartBackBean.numAtraso}"/> </td>
				          <td><h:outputText value="#{chartBackBean.pagoPeriodicoAtrasadoStr}" /></td>
				          <td><h:outputText value="#{chartBackBean.montoAPagarAtrasoStr}"></h:outputText></td>
				          <td><h:outputText value="#{chartBackBean.saldoAtrasoStr}"></h:outputText></td>
				          <td><h:outputText value="#{chartBackBean.saldoVencidoAtrasadoStr}"></h:outputText></td>
				          <td><h:outputText value="#{chartBackBean.maxCredAtrasoStr}"></h:outputText></td>
				          <td><h:outputText value="#{chartBackBean.limiteMaxAtrasadoStr}"></h:outputText></td>
				         </tr>
				        </tbody>         
				       </table>     
				      
				      
				      <div class="profileSubtitle" style="margin-top: 20px;"><b>Detalle de cuentas</b></div>
				      
				      <div>
				       <div class="details5 left">
				        <p><strong>Cuentas no activas</strong></p>
				        <p><h:outputText value="#{chartBackBean.noActivas}"/> </p>
				       </div>      
				       <div class="details6 left">
				        <p><strong>Solicitudes en los últimos 6 meses</strong></p>
				        <p><h:outputText value="#{chartBackBean.bur.numsols}"/> </p>
				       </div>      
				       <div class="details5 left">
				        <p><strong>Fecha del crédito más antiguo</strong></p>
				        <p>
				        
				        <h:outputText value="#{chartBackBean.bur_fec_credantiguo}">
				        	<f:convertDateTime locale="es_MX" dateStyle="full" ></f:convertDateTime>
				        </h:outputText></p>
				       </div>  
				       <div class="details6 left">
				        <p><strong>Cuentas otorgadas con garantía</strong></p>
				        <p>
				        <h:outputText value="#{chartBackBean.bur.cta_cgarantia}" rendered="#{chartBackBean.bur.cta_cgarantia>0}" />
				        <h:outputText value="Ninguna" rendered="#{chartBackBean.bur.cta_cgarantia==0}" />
				        </p>
				       </div>         
				       <div class="details5 left">
				        <p><strong>Quebrantos</strong></p>
				        <p>
				        <h:outputText value="#{chartBackBean.bur.quebrantos} quebrantos" rendered="#{chartBackBean.bur.quebrantos>0}"/>
				        <h:outputText value="No tiene quebrantos reportados" rendered="#{chartBackBean.bur.quebrantos==0}"/>
				        
				         </p>
				       </div>    
				       <div class="clear"></div>
				      </div>
																				
										
					<p:outputPanel rendered="#{chartBackBean.bur.fraudes>0 or chartBackBean.bur.roboidentidad>0 or chartBackBean.bur.fraudesnoatribuible>0 or chartBackBean.bur.fianzas>0 or chartBackBean.bur.aplicogarantia>0 or chartBackBean.bur.nolocalizable>0 or chartBackBean.bur.codemandado>0 or chartBackBean.bur.condonaciones>0 or chartBackBean.bur.reestructura>0 or chartBackBean.bur.fraudes>0}">
				      <h6 class="profileSubtitle">Observaciones reportadas en buró de crédito</h6>
				      </p:outputPanel>
				      
				       <ul>
				        <p:outputPanel rendered="#{chartBackBean.bur.fraudes>0}">
				        <li><h:outputText style="color:black;"  value="El cliente ha cometido #{chartBackBean.bur.fraudes} #{chartBackBean.bur.fraudes==1?'fraude':'fraudes'}" rendered="#{chartBackBean.bur.fraudes>0}"/></li>
				        </p:outputPanel>
				        <p:outputPanel rendered="#{chartBackBean.bur.roboidentidad>0}">
				        <li><h:outputText  style="color:black;" value="#{chartBackBean.bur.roboidentidad} #{chartBackBean.bur.roboidentidad>1?'créditos han sido otorgados con robo de identidad':'crédito ha sido otorgado con robo de identidad'}"></h:outputText></li>
				        </p:outputPanel>
				        
				        <p:outputPanel rendered="#{chartBackBean.bur.fraudesnoatribuible>0}">
				        <li><h:outputText style="color:black;"  value="Se reportó una cuenta con fraude, no atribuible al cliente"></h:outputText></li>
				        </p:outputPanel>
				        <p:outputPanel rendered="#{chartBackBean.bur.fianzas>0}">
				        <li><h:outputText style="color:black;"  value="Se ejerció 1 fianza para liquidar una de las cuentas"></h:outputText></li>
				        </p:outputPanel>
				        <p:outputPanel rendered="#{chartBackBean.bur.aplicogarantia>0}">
				        <li><h:outputText  style="color:black;" value="Alguna entidad se adjudicó/aplicó la garantía para cubrir 1 crédito"></h:outputText></li>
				        </p:outputPanel>
				        <p:outputPanel rendered="#{chartBackBean.bur.nolocalizable>0}">
				        <li><h:outputText style="color:black;"  value="El cliente ha sido indicado como NO LOCALIZABLE en 1 crédito"></h:outputText></li>
				        </p:outputPanel>
				        <p:outputPanel rendered="#{chartBackBean.bur.codemandado>0}">
				        <li><h:outputText style="color:black;"  value="El cliente está en un proceso de demanda, como co-demandado"></h:outputText></li>
				        </p:outputPanel>
				        <p:outputPanel rendered="#{chartBackBean.bur.condonaciones>0}">
				        <li><h:outputText style="color:black;"  value="Se han aplicado 2 convenios de finiquito con condonaciónes o quitas"></h:outputText></li>
				        </p:outputPanel>
				        <p:outputPanel rendered="#{chartBackBean.bur.reestructura>0}">
				        <li><h:outputText style="color:black;"  value="1 cuentas fue reestructurada a petición del cliente"></h:outputText></li>
				        </p:outputPanel>
				        <p:outputPanel rendered="#{chartBackBean.bur.fraudes>0}">
				        <li><h:outputText style="color:black;" value="Se reportó una cuenta con fraude, no atribuible al cliente"></h:outputText></li>
				        </p:outputPanel>
				       </ul>														
						
		
						<p:outputPanel rendered="#{not empty chartBackBean.spca.strCreditos}">
						  <h6 class="profileSubtitle">Detalle de cuentas en bancos</h6>
            			  <p>Tiene</p>
            			  <ul>
            			  	<li>
            			  		<h:outputText  style="color:black;" value="#{chartBackBean.spca.strCreditos}"></h:outputText>
            			  	 </li>
            			  	<li><h:outputText style="color:black;" value="un límite de crédito acumulado de "></h:outputText>
            			  		<strong><h:outputText style="color:black;" value="#{chartBackBean.spca.limiteagregado}">
            			  			<f:convertNumber maxFractionDigits="0" minFractionDigits="0"  locale="es_MX" currencySymbol="$" groupingUsed="true" type="currency"></f:convertNumber> 
            			  		</h:outputText></strong>
            			  	</li>
            			  	<li><h:outputText style="color:black;" value="un saldo actual de "></h:outputText>
            			  		<strong><h:outputText style="color:black;" value="#{chartBackBean.spca.saldoagregado}">
            			  			<f:convertNumber maxFractionDigits="0" minFractionDigits="0"  locale="es_MX" currencySymbol="$" groupingUsed="true" type="currency"></f:convertNumber> 
            			  		</h:outputText></strong> 
            			  	</li>
            			  	<li><h:outputText style="color:black;" value="un monto por pagar de "></h:outputText>
            			  		<strong><h:outputText style="color:black;" value="#{chartBackBean.spca.montoagregado}">
            			  			<f:convertNumber maxFractionDigits="0" minFractionDigits="0"  locale="es_MX" currencySymbol="$" groupingUsed="true" type="currency"></f:convertNumber> 
            			  		</h:outputText></strong> 
            			  	</li>
            			  </ul>
            			  
            			  <p:outputPanel rendered="#{not empty chartBackBean.maxoto.prim_credito}">
        					<p>Su <strong>primer crédito</strong> fue otorgado el <h:outputText value="#{chartBackBean.maxoto.prim_credito}">
        					<f:convertDateTime locale="es_MX" dateStyle="full" ></f:convertDateTime>
        					</h:outputText> <br/>
							La última vez que le prestaron el día <h:outputText value="#{chartBackBean.maxoto.ult_credito}">
							<f:convertDateTime locale="es_MX" dateStyle="full" ></f:convertDateTime>
							</h:outputText><br/>

							<p:outputPanel rendered="#{chartBackBean.maxoto.max_liquidado>0}">
							El <strong>crédito más grande</strong> que le han autorizado y que ha liquidado fue por 
							<h:outputText value="#{chartBackBean.maxoto.max_liquidado}" >
							<f:convertNumber maxFractionDigits="0" minFractionDigits="0"  locale="es_MX" currencySymbol="$" groupingUsed="true" type="currency"></f:convertNumber>
							</h:outputText>
							</p:outputPanel>
							<p:outputPanel rendered="#{chartBackBean.maxoto.max_liquidado==0}">
							No tiene créditos liquidados. 
							</p:outputPanel>
							 <br/>
							 <p:outputPanel rendered="#{chartBackBean.maxoto.max_noliquidado>0}">
							El crédito más grande que le han autorizado es por
							<h:outputText value="#{chartBackBean.maxoto.max_noliquidado}">
							<f:convertNumber maxFractionDigits="0" minFractionDigits="0"  locale="es_MX" currencySymbol="$" groupingUsed="true" type="currency"></f:convertNumber>
								</h:outputText> pero aún no lo liquida
							</p:outputPanel>
							
							</p>
							
							<p:outputPanel rendered="false"> 
							<p>Históricamente le han prestado 5 tarjetas de crédito revolventes que ya están inactivas,        
								con un límite de <strong>crédito acumulado de $120,000</strong></p>
							 </p:outputPanel>
						 </p:outputPanel>													
						
		    			  
            			  
            			  
						</p:outputPanel>
						<p:outputPanel rendered="false">
							
						<h6 class="profileSubtitle">Comportamiento de pago en bancos</h6>
						<p>Actualmente <strong>no tiene atraso</strong> en ninguna de sus cuentas</p>
						<p>De las cuentas activas, <strong>su peor atraso</strong> ha sido de 1-29 días hace 24 meses</p>
						<p>De las cuentas cerradas, su peor atraso fue de 30-59 días hace 36 meses</p>	
						<p>Tiene 2 cuentas de garantía, 1 en <strong>despacho de cobranza</strong> desde el 22 de diciembre de 2011</p>
						
						</p:outputPanel>
						
						
						</div>
						
						</p:outputPanel>
						
					</div>
		</h:panelGroup>
 	
		
	 	<!-- 
	 		<h:panelGroup  rendered="true" id="pnlContKuboData" >
				<div id="dvContKuboData" class="detailsControlTable clssControlBuro" style="display: block;">
					<div class="centerPosition">
						<h:panelGroup id="sectionKuboData">
							<p style="width: 200px; float: left;"><strong class="orange">Calificación kubo</strong></p>	
							<br style="clear:both;" />
							<div class="buroAttr" >
								
								<div class="contValues" >
									<div class="descBurAttr smallGray " >Kubo-Score </div>
									<div class= "valBurAttr orange " >#{chartBackBean.infocalkubo.calificacion_kubo}</div>
								</div>
								
								<div class="contValues" >
									<div class="descBurAttr smallGray " >Score</div>
									<div class= "valBurAttr orange " >#{chartBackBean.infocalkubo.score}</div>
								</div>
								<div class="contValues" >
									<div class="descBurAttr smallGray " >ICC</div>
									<div class= "valBurAttr  orange " >#{chartBackBean.infocalkubo.icc}</div>
								</div>
								
								
								<div class="contValues" >
									<div class="descBurAttr smallGray " >Riesgo</div>
									<div class= "valBurAttr  orange " >#{chartBackBean.infocalkubo.riesgo}</div>
								</div>
								
								<div class="contValues" >
									<div class="descBurAttr smallGray " >Tasa Inversionista</div>
									<div class= "valBurAttr  orange " >#{chartBackBean.infocalkubo.tasa_inv}</div>
								</div>
								<div class="contValues" >
									<div class="descBurAttr smallGray " >Tasa Acreditado</div>
									<div class= "valBurAttr orange " >#{chartBackBean.infocalkubo.tasa_acre}</div>
								</div>
								<div class="contValues" >
									<div class="descBurAttr smallGray " >Tasa Kubo</div>
									<div class= "valBurAttr orange " >#{chartBackBean.infocalkubo.tasa_kubo}</div>
								</div>
								<div class="contValues" >
									<div class="descBurAttr smallGray " >Comisión por apertura</div>
									<div class= "valBurAttr  orange " >#{chartBackBean.infocalkubo.comision_apertura}%</div>
								</div>
								<div class="contValues" >
									<div class="descBurAttr smallGray " >Liquidez</div>
									<div class= "valBurAttr  orange " >#{chartBackBean.infocalkubo.liquidez}</div>
								</div>
								<div class="contValues" >
									<div class="descBurAttr smallGray " >Consultas</div>
									<div class= "valBurAttr  orange " >#{chartBackBean.infocalkubo.consultas}</div>
								</div>
							</div>											
						</h:panelGroup>	
					</div>					
				</div>
			</h:panelGroup>
	 		 -->
	 		
	 		<h:panelGroup  rendered="true" id="pnlContAddressBuro"   >
				<div id="dvContAddressBuro" class="detailsControlTable clssControlBuro clssTablesBuro" style="margin-top: 15px;font-size: 0.9em;" >
					<div class="centerPosition" style="margin-left: 10px !important; width: 900px !important">
						<h:panelGroup id="sectionAddressBuro">
							<p style="width: 70%; float: left;"><strong class="orange">Direcciones</strong></p>	
							<br style="clear:both;" />
							
							<div class="tabS" style="font-size: 1.0em; margin-top: 20px;" >
								
								<table class="tableDomicilios">
									
									<h:outputText escape="false"   value="#{chartBackBean.tableDomicilios}" ></h:outputText>
									
								</table>
								
							</div>	
							
						</h:panelGroup>
					</div>
				</div>
			</h:panelGroup>
	 		
			<h:panelGroup  rendered="true" id="pnlContCredVig" >
				<div id="dvContCredVig" class="detailsControlTable clssControlBuro clssTablesBuro" style="margin-top: 15px;font-size: 0.9em; ">
					<div class="centerPosition" style="margin-left: 10px !important; width: 900px !important" >
						
						<h:panelGroup id="sectionCredVig">
							
							<p style="width: 70%; float: left;"><strong class="orange">Créditos vigentes</strong></p>	
							
							<br style="clear:both;" />
							
							<div class="tabS" style="font-size: 1.0em; margin-top: 20px;" >
								
								<table class="fixme">
								 
									<h:outputText escape="false"   value="#{chartBackBean.tableVigData}" ></h:outputText>
								 
								</table>
								
							</div>
						</h:panelGroup>
					</div>
				</div>
			</h:panelGroup>
			
			
			<h:panelGroup  rendered="true" id="pnlContCredVigCom" >
				<div id="dvContCredVigCom" class="detailsControlTable clssControlBuro clssTablesBuro" style="margin-top: 15px;font-size: 0.9em; ">
					<div class="centerPosition" style="margin-left: 10px !important; width: 900px !important" >
						
						<h:panelGroup id="sectionCredVigCom">
							
							<p style="width: 70%; float: left;"><strong class="orange">Créditos vigentes comunicaciones</strong></p>	
							
							<br style="clear:both;" />
							
							<div class="tabS" style="font-size: 1.0em; margin-top: 20px;" >
								
								<table class="fixmeCom">
								 
									<h:outputText escape="false"   value="#{chartBackBean.tableVigDataCom}" ></h:outputText>
								 
								</table>
								
							</div>
						</h:panelGroup>
					</div>
				</div>
			</h:panelGroup>
			
			
			<h:panelGroup  rendered="true" id="pnlContCredCerrUlt6M" >
				<div id="dvContCredCerrUlt6M" class="detailsControlTable clssControlBuro clssTablesBuro" style="margin-top: 15px;font-size: 0.9em; ">
					<div class="centerPosition" style="margin-left: 10px !important; width: 900px !important">
						<h:panelGroup id="sectionCredCerrUlt6M">
							
							<p style="width: 70%; float: left;"><strong class="orange">Créditos cerrados en los últimos 6 meses</strong></p>	
							
							<br style="clear:both;" />
							
							<div class="tabS" style="font-size: 1.0em; margin-top: 20px;" >
								
								<table class="tableCredClose">
								
									<h:outputText escape="false"   value="#{chartBackBean.tableCredCerr}" ></h:outputText>
									
								</table>
								
							</div>
							
						</h:panelGroup>
					</div>
				</div>
			</h:panelGroup>
			
			<h:panelGroup  rendered="true" id="pnlContCredCerrMas6M" >
				<div id="dvContCredCerrMas6M" class="detailsControlTable clssControlBuro clssTablesBuro" style="margin-top: 15px;font-size: 0.9em; ">
					<div class="centerPosition"  style="margin-left: 10px !important; width: 900px !important">
						<h:panelGroup id="sectionCredCerrMas6M">
							
							<p style="width: 70%; float: left;"><strong class="orange">Créditos cerrados hace más de 6 meses</strong></p>	
							
							<br style="clear:both;" />
							
							<div class="tabS" style="font-size: 1.0em; margin-top: 20px;" >
							
								<table class="tableCredCloseM6">
								
									<h:outputText escape="false"   value="#{chartBackBean.tableCredCerr_M_6}" ></h:outputText>
									
								</table>
								
							</div>
						</h:panelGroup>
					</div>
				</div>
			</h:panelGroup>
			
			<h:panelGroup  rendered="true" id="pnlContConsulBuroUlt6M" >
				<div id="dvContConsulBuroUlt6M" class="detailsControlTable clssControlBuro clssTablesBuro" style="margin-top: 15px;font-size: 0.9em; display: block;">
					<div class="centerPosition" style="margin-left: 10px !important; width: 900px !important">
						<h:panelGroup id="sectionConsulBuroUlt6M">
							<p style="width: 500px; float: left;"><strong class="orange">Consultas a Buró en los últimos 6 meses</strong></p>	
							<br style="clear:both;" />
							<div class="tabS" style="font-size: 1.0em; margin-top: 20px;" >
								<table class="fixmeConsultUlt">
									
									<h:outputText escape="false"   value="#{chartBackBean.tableConsultUltData}" ></h:outputText>
								 
								</table>
							</div>
						</h:panelGroup>
					</div>
				</div>
			</h:panelGroup>
			
			<h:panelGroup  id="pnlContConsulBuroMas6M" >
				<div id="dvContConsulBuroMas6M" class="detailsControlTable clssControlBuro clssTablesBuro" style="margin-top: 15px;font-size: 0.9em; display: block;">
					<div class="centerPosition" style="margin-left: 10px !important; width: 900px !important">
						<h:panelGroup id="sectionConsulBuroMas6M">
							
							<p style="width: 500px; float: left;"><strong class="orange">Consultas a Buró hace más de 6 meses</strong></p>	
							
							<br style="clear:both;" />
							
							<div class="tabS" style="font-size: 1.0em; margin-top: 20px;" >
									
									<table class="fixmeConsultMS">
									
										<h:outputText escape="false"   value="#{chartBackBean.tableConsultMSData}" ></h:outputText>
									 
									</table>
									
							</div>
							
						</h:panelGroup>
					</div>
				</div>
			</h:panelGroup>
		
			<h:panelGroup  id="pnlContAlertas01" >
				<div id="dvContAlertas01" class="detailsControlTable clssControlBuro clssTablesBuro" style="margin-top: 15px;font-size: 0.9em; display: block;">
					<div class="centerPosition" style="margin-left: 10px !important; width: 900px !important">
						<h:panelGroup id="sectionContAlertas01">
							
							<p style="width: 500px; float: left;"><strong class="orange">Datos Alertas Consulta</strong></p>	
							
							<br style="clear:both;" />
							
							<div class="tabS" style="font-size: 1.0em; margin-top: 20px;" >
									
									<table class="tableAlerts01">
									
										<h:outputText escape="false"   value="#{chartBackBean.tableAlertas2Str}" ></h:outputText>
									 
									</table>
									
							</div>
							
						</h:panelGroup>
					</div>
				</div>
			</h:panelGroup>
			
			<h:panelGroup  id="pnlContAlertas02" >
				<div id="dvContAlertas02" class="detailsControlTable clssControlBuro clssTablesBuro" style="margin-top: 15px;font-size: 0.9em; display: block;">
					<div class="centerPosition" style="margin-left: 10px !important; width: 900px !important">
						<h:panelGroup id="sectionContAlertas02">
							
							<p style="width: 500px; float: left;"><strong class="orange">Datos Alertas Reporte</strong></p>	
							
							<br style="clear:both;" />
							
							<div class="tabS" style="font-size: 1.0em; margin-top: 20px;" >
									
									<table class="tableAlerts02">
									
										<h:outputText escape="false"   value="#{chartBackBean.tableAlertas1Str}" ></h:outputText>
									 
									</table>
									
							</div>
							
						</h:panelGroup>
					</div>
				</div>
			</h:panelGroup>
 			
 			<!-- div que contiene el formulario para actualizar nombre de instituciones  -->
 			
 			<!-- <h:form id="frmChange" prependId="false" > -->
	 			<h:panelGroup>
	 				<div style="display: none">
		 				<div id="dvFrmChange" >
		 				
		 					<div class="dvCloseChng" style="position: absolute; z-index: 101; top: 1px;right: 1px; width: 30px; height: 30px;" >
			          			<p:graphicImage url="../resources/img/close.png" onclick="$.fancybox.close();" style="cursor: pointer;" ></p:graphicImage>
			          		</div>
		 					<div style="width: 100%; text-align: center;" >
		 						<strong class="orange">Identificar Créditos</strong>
		 					</div>
		 					<br />
		 					<div id="dvContActualName"></div>
		 					<br />
		 					Institución Identificada:
		 					<!-- <input type="text" id="newName" /> -->
		 					<br />
		 					<!-- <div class="dvElement" style="width: 350px !important;" >
								<div class="styled-select" style="padding-top: 0px !important; background-color: #FFFFFF !important;">
									<h:selectOneMenu id="banck_select" style="width: 285px !important; background: none repeat scroll 0 0 rgba(0, 0, 0, 0) !important"  styleClass="elementStlSel validatorClass"  >
										<f:selectItem itemValue=""  itemLabel=""/>
										<f:selectItems var="banck" value="#{chartBackBean.lstBanks}" itemLabel="#{banck.short_name}" itemValue="#{banck.short_name}"/>
										<p:ajax event="change" />
									</h:selectOneMenu>
								</div>
							</div> -->
							
							<div  class="dvElementAddres1">
								<p:autoComplete id="acSimple" styleClass="validatorClass"  completeMethod="#{chartBackBean.autocomplete}" >
								 	<p:ajax event="itemSelect" listener="#{chartBackBean.handleSelect}" /> 
								 	 <p:ajax event="blur" listener="#{chartBackBean.saveCreditHistory}" />  -->
								</p:autoComplete>  
							</div>
		 					
		 					<input type="hidden" id="prevName" />
		 					<br />
		 					<br />
		 					<div id="btnRecommen" onclick="onClckJsonAct();" class="buttonPR" style="width: 170px; font-size: 1.0em; margin-left: auto !important; margin-right: auto !important;"  >
		 						
		 							Guardar
		 						
		 					</div>
		 					
		 				</div>
	 				</div>
	 			
	 			</h:panelGroup>
	 			
	 			<div style="display: none;">
			 			<!-- <p:commandLink id="cmdJsonAction" actionListener="#{chartBackBean.saveIdentified999}" immediate="true" onstart="return startJson();" >
			 			</p:commandLink> -->
			 			
			 			 <p:inputText id="cmdJsonAction">
			 		     <p:ajax event="blur" listener="#{chartBackBean.saveIdentified}" onstart="return startJson();" oncomplete="completeJson();" update="pnlGraphic titleGraphic pnlBurResumeData pnlContCredVig pnlContPersonalData pnlContAddressBuro pnlContConsulBuroUlt6M pnlContConsulBuroMas6M pnlContCredVigCom pnlContCredCerrUlt6M pnlContCredCerrMas6M pnlContAlertas01 pnlContAlertas02 pnlBuroConsultationBur" />
			 			 	<!-- <p:ajax event="blur" listener="#{chartBackBean.saveIdentified}" onstart="return startJson();" oncomplete="drawChartBuro();"  /> -->
			 			 </p:inputText>
			 		
			 			<p:inputText id="jsonKey" value="#{chartBackBean.keyStrJS}" >
			 				<p:ajax event="blur" />
			 			</p:inputText>
			 			
			 			<p:inputText id="jsonVal" value="#{chartBackBean.valStrJS}" >
			 				<p:ajax event="blur" />
			 			</p:inputText>
			 	</div>
	 			
 			<!-- </h:form> -->
 			<!-- Fin div que contiene el formulario para actualizar nombre de instituciones -->
 			
 	<h:outputText escape="false"   value="#{chartBackBean.scriptAction}" ></h:outputText>
 	 
 	<div style="display:none">
 		<div id="dvLoggin" style="font-size: 1.2em;" >
 			<div style="width: 320px; height: auto; overflow: hidden; float: left; border: solid 0px #FF0000;  ">
				<div style="padding: 0px; margin-top: 0px !important; height: auto; overflow: auto; width: 320px; margin-top: 0px;  padding-top: 0px !important; padding-bottom: 0px !important; position: relative; ">
		    	
				<div class="msgBorder" style="width: 304px !important;height: auto !important; overflow: auto !important; ">
			
						<div class="logPR" style="background-color: #FFFFFF !important; background-image: none !important;width: 282px !important;">
							<!-- <h:form id="login" prependId="false"> -->
									
								<h:inputHidden style="display:none" id="namebraw"  value=""></h:inputHidden>
								<h:inputHidden style="display:none" id="verbraw" value=""></h:inputHidden>
								<h:inputHidden style="display:none" id="osbraw" value=""></h:inputHidden>
								
								<h:inputHidden style="display:none" id="widthScr" value=""></h:inputHidden>
								
								<div style="font-size: 1.25em; margin-left: 10px; ">
									<span class="descripPR" style="color: #439539;font-size: 0.89em;font-weight: bold;">Inicia tu sesión<br /></span>
									<span class="descColor" style="color: #439539;" >Entrar</span>
								</div>
								
								<br />
								
								
		   						<h:panelGroup id="warningUser">
									<div style="display: #{addNaturalPerson.displayWarningUser};" >
										
										<div style="margin-left: 15px !important;" >
											<h:outputText escape="false" value="#{addNaturalPerson.warningUser}"></h:outputText>
										</div>
										
									</div>
								</h:panelGroup>
								
								<h:panelGroup id="warningUserVal">
									<h:panelGroup rendered="#{headerBean.warninguserdisp}">
									<div style="margin-left: 15px !important;" >
										<h:outputText escape="false" value="#{headerBean.warningUserMsg}"></h:outputText>
									</div>
									</h:panelGroup>
									
									<div id="strMsg"></div>
									
								</h:panelGroup>
								
								<h:panelGroup rendered="#{!chartBackBean.showInputId}">
									<div class="dvContent">
										<div class="dvLabel">
											<h:outputText value="#{chartBackBean.naturalPersonOfMail.NombreCompletoNPM()}" styleClass="labelsStl" style="font-weight: bold;" ></h:outputText>
										</div>
									</div>
								</h:panelGroup>
								<h:panelGroup rendered="#{chartBackBean.showInputId}">
								
									<div class="dvContent">
										<div class="dvLabel">
											<!-- <h:outputText value="#{msg.log_email}" styleClass="labelsStl" ></h:outputText> -->
											<h:outputText value="#{msg.log_email}" styleClass="labelsStl"  ></h:outputText>
										</div>
										<div class="dvElement" style="width: 271px !important;">
											
											<p:inputText id="usr" value="#{chartBackBean.usr}" styleClass="elementStl" required="true" theme="none" requiredMessage="Favor de introducir tu correo electrónico">
												<p:ajax event="blur" ></p:ajax>
												<f:validateLength minimum="2" />
											</p:inputText>
										</div>
									</div>
								
								</h:panelGroup>
									
								<div class="dvContent">
									<p class="etiqueta">
										<h:outputText value="#{msg.log_pwd}"  ></h:outputText>
									</p>
									<div class="dvElement" style="width: 271px !important;">
										<p:focus for="confpass" />
						                <p:inputText id="confpass"  onkeyup="keyEventIntro(event,this);" value="#{chartBackBean.password}"  styleClass="elementStl" type="password"  required="true" requiredMessage="Favor de introducir tu contraseña">
											<p:ajax event="blur" ></p:ajax>
											<f:validateLength minimum="2" />
										</p:inputText>
									</div>
								</div>	
								
								<h:panelGroup id="warningUserBut">
									<h:panelGroup rendered="#{headerBean.warninguserbut}">
									
										<div class="dvContent">
											<div class="dvLabel">							
												<a class="labelsStl"  style="color: #C1D82F;text-decoration: none;" href="../jsf/forgotpass.xhtml">¿Olvidaste tu contraseña?</a>
											</div>
										</div>
											
										<div id="btnLoggin" class="buttonPR" onclick="initLog();">
											<h:outputText value="Entrar" />
										</div>
										
									</h:panelGroup>
								</h:panelGroup>
							<!-- </h:form> -->
						</div>
						
					</div>
			
				</div>
			</div>
 		</div>
 	</div>
 	
 	<div style="display:none;" >
 	
 	<p:inputText id="inpLog" value="#{chartBackBean.password}" >
		<p:ajax event="blur" listener="#{chartBackBean.initSession}" oncomplete="returnInit(xhr, status, args);" update=":pnlHeader warningUser warningUserVal"  ></p:ajax>
	</p:inputText>
	
 	<p:inputText id="inpLogUsr" value="#{chartBackBean.usr}" >
		<p:ajax event="blur" listener="#{chartBackBean.getUsr}" ></p:ajax>
	</p:inputText>
 	
 	<p:commandLink id="initAction" actionListener="#{chartBackBean.initChart}" update="pnlTableNetes pnlGraphic titleGraphic pnlBurResumeData pnlContCredVig pnlContPersonalData pnlContAddressBuro pnlContConsulBuroUlt6M pnlContConsulBuroMas6M pnlContCredVigCom pnlContCredCerrUlt6M pnlContCredCerrMas6M pnlContAlertas01 pnlContAlertas02 pnlBuroConsultationBur" >
 	
 	</p:commandLink>
 	
 	</div>
 	
 	<h:panelGroup rendered="#{chartBackBean.initModal}" >
		<!-- script para inicializar el modal en caso de no estar logeado -->
		<script>
		
			$(document).ready(function(){
		
				initModal();
			
			});
		
		</script>	
	</h:panelGroup>
 	
 	<ui:include src="templates/msgProcessing.xhtml" />

</ui:composition>