<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html 	xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:p="http://primefaces.org/ui">
	<h:head>
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
		<!--[if lt IE 9]>
			<script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
		<![endif]-->
		
		<meta name="HandheldFriendly" content="True"> </meta>
		<meta name="MobileOptimized" content="320"> </meta>
		<meta name="viewport" content="width=device-width, initial-scale=1"> </meta>
		<!-- MS --> 
		<meta http-equiv="cleartype" content="on"> </meta>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"></meta>
		
		
		
		<!-- <script type="text/javascript" src="../resources/js/jquery-1.7.1.js"></script> -->
		<script type="text/javascript" src="../resources/js/contenido.js"></script>

	<script type="text/javascript" src="../resources/js/fancybox/jquery.fancybox-1.3.4.pack.js"></script> 
	
	<script type="text/javascript" src="../resources/js/fancybox/jquery.easing-1.3.pack.js"></script>
	<script type="text/javascript" src="../resources/js/fancybox/jquery.mousewheel-3.0.4.pack.js"></script>
	
	<script type="text/javascript" src="../resources/js/jquery.scrollTo.js"></script>
		
	<script language="javascript" type="text/javascript" src="../resources/js/reloj.js"></script>
	<script language="javascript" type="text/javascript" src="../resources/js/general.js"></script>
	
	<script language="javascript" type="text/javascript" src="../resources/js/preregfrm.js"></script>
		
	<link rel="stylesheet" type="text/css" href="../resources/js/fancybox/jquery.fancybox-1.3.4.css" media="screen" />
		
	<link rel="stylesheet" type="text/css" href="../resources/css/style.css" />
		<link rel="stylesheet" type="text/css" href="../resources/css/ayudaStyle.css" />
		<link rel="stylesheet" type="text/css" href="../resources/css/capitulo1.css" />
		<link rel="stylesheet" type="text/css" media="screen" charset="utf-8" href="../resources/css/proyectos.css" />
		<link rel="stylesheet" type="text/css" href="../resources/css/inicio.css" />
		
		<script type="text/javascript" src="../kubo/js/scriptUnidadEsp.js"></script>
		
		<link rel="stylesheet" type="text/css" href="../resources/css/frmStyle.css" />	
		<link rel="stylesheet" type="text/css" href="../resources/css/preregistro2.css" />
		
		<link rel="stylesheet" type="text/css" href="../resources/css/header.css" />
		<link rel="stylesheet" type="text/css" href="../resources/css/footer.css" />
		
		<link rel="stylesheet" type="text/css" href="../resources/css/responsive/headerResponsive2.css" />
		<link rel="stylesheet" type="text/css" href="../resources/css/responsive/footerResponsive.css" />
		<link rel="stylesheet" type="text/css" href="../resources/css/responsive/inicioResponsive.css" />
		
		
		<link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:700' rel='stylesheet' type='text/css' />
		<link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css' />
		<link href='https://fonts.googleapis.com/css?family=Karla' rel='stylesheet' type='text/css' />
		<script>
			
			var msg;
		
			function validaResp(){
				
				if ( ($('#confPass').val()).length>0 ){
				
					if( $('#pass').val() != $('#confPass').val() ){
						
						alert("El valor de los campos es diferente. Por favor vuelva a intentarlo.");
						$('#pass').val("");
						$('#confPass').val("")
						return false;
						
					}
				}
				displayMessageProcessing('msgprocessing',false);
				return true;
				
			}
			
			
			function saveAction(xhr, status, args){
				
				if(args.saveAction){
					
					$("#clickAction").click();
					
				}else{
					
					$("#errorAction").click();
					$("#dvMsg").html( args.message );
					closeMessageProcessing();
				}
				
			}
			
			function showMsg(){
				//alert( msg )
				//$("#dvMsg").html(msg);
				$("#dvMsg").show();
				
			}
			
			function hideMsg(){
				
				$("#dvMsg").hide();
				$("#dvMsg").html("");
				
			}
			
			
		</script>
		<script>
		
		/******************GOOGLE*ANALYTICS**************************************/  
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		
		  ga('create', 'UA-40649010-1', 'auto');
		  ga('require', 'linkid');
		  ga('require', 'displayfeatures');
		  ga('send', 'pageview');

	  /*****************FIN*GOOGLE*ANALYTICS**********************************/
		
		
		</script>
		
		
		<style>
			.contPR{
			
				min-height: 140px important;
				
			}
			
			#dvMsg{
			
				font-size: 0.9em;
				color: #FF0000;
				
			}
			
		</style>
		<title>kubo.financiero | Cambio de contraseña</title>
		
		<meta name="Description" content="Cambio de contraseña para usuarios registrados"/>
		
	</h:head>
	<h:body >
		<div id="header" style="width: 100%; magin-right: 0px; margin-bottom: 0px;">
			<ui:include src="templates/headContenido.xhtml" />
		</div>
			
		<h:form id="form_Prin" prependId="false" >	
		
			<div class="caja_bordeverde change_pass">
				<h3 class="encabezado_3">Cambio de Contraseña</h3>
				
				<p> Tu contraseña tiene más de #{changePass.diasVal} días de creación.<br /> 
							Por tu seguridad es necesario que la cambies.</p>

					<div class="dvContent">
						
						<h:inputHidden id="name" value="#{changePass.name}" />
						<h:inputHidden id="email" value="#{changePass.email}" />
					
						<div id="dvMsg">
						</div>
						<p class="etiqueta">
							<h:outputText value="Escribe tu nueva contraseña:"></h:outputText>
						</p>						
						
							<p:inputText type="password"  styleClass="estilo_input validatePass" id="pass" onfocus="hideMsg();" value="#{changePass.newPass}"  >
								<p:ajax event="blur" ></p:ajax>
							</p:inputText>
					
							<p class="etiqueta">
							<h:outputText value="Confirma tu nueva contraseña: "></h:outputText>
						</p>
												
					
							<p:inputText type="password"  styleClass="estilo_input" id="confPass" onfocus="hideMsg();"  >
								<p:ajax event="blur" ></p:ajax>
							</p:inputText>
						
					</div>
					

						<p:commandLink onstart="return validaResp(); " value="Aceptar" oncomplete="saveAction(xhr, status, args);" actionListener = "#{changePass.savePassword}" styleClass="btn_verde" >
							
					
						</p:commandLink>
			
			
			
			</div>
			
			<div style="display: none;">
				<p:commandLink id="clickAction" action="#{changePass.entrar}" ></p:commandLink> 
				<p:commandLink id="errorAction" onstart="showMsg();" ></p:commandLink>
			</div>
			
			<div id="passHelp"  style="opacity: 1.87; position: absolute; display: none; border: 2px solid #CCCCCC; width:405px;height: auto;overflow: auto;">
				<div class="arrow_leftHelp" style="top: 80px;  " ></div>
				<div id="message" style="width:380px; padding: 8px 8px 8px 12px; height:auto; overflow: auto; background-color: #FFFFFF; ">
					<div id="passTitle" style="font-size: 1.2em;" ><b>Tu contraseña debe contener:</b></div>
					<div id="valLength" class="descVal" style="font-size: 1.07em;" >Al menos 8 caracteres.</div>
					<div id="valVoc" class="descVal" style="font-size: 1.07em;">Al menos una vocal.</div>
					<div id="valCnsnt" class="descVal" style="font-size: 1.07em;">Al menos una consonante.</div>
					<div id="valNum" class="descVal" style="font-size: 1.07em;">Al menos un número</div>
					<div id="passTitle2" style="margin-top: 7px;font-size: 1.2em;"><b>Tu contraseña NO debe contener:</b></div>
					<div id="valName" class="descVal" style="font-size: 1.07em;">Tu nombre</div>
					<div id="valUsr" class="descVal" style="font-size: 1.07em;">Tu nombre de usuario del correo electrónico</div>
					<div id="valInst" class="descVal" style="font-size: 1.07em;">El nombre de la institución</div>
					<div id="valCharCon" class="descVal" style="font-size: 1.07em;">Caracteres consecutivos</div>
					<div id="valNumCon" class="descVal" style="font-size: 1.07em;">Números consecutivos</div>
					<div id="valRepChar" class="descVal" style="font-size: 1.07em;">Un caracter repetido más de 2 veces consecutivas</div>
					<div id="valMaxLength" class="descVal" style="font-size: 1.07em;">Más de 12 caracteres</div> 
				</div>
			</div>
			
		</h:form>
		
		<div id="header" style="width: 100%; magin-right: 0px; margin-bottom: 0px;">
			<ui:include src="templates/footerContenido.xhtml" />
		</div>
		
		<ui:include src="templates/msgProcessing.xhtml" />
		
	</h:body>
</html>
